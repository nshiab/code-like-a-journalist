---
title: Loops in TypeScript
description: 
---

import { Callout } from "nextra/components";

# Loops

We usually use computers to do repetitive tasks over and over, and very quickly. And this is what *loops* are for: to *iterate*!

Let's set things up for this lesson.

Make a new folder somewhere on your computer, open it with VS Code, and create two files:

- `main.ts`, where we will write our code. To start, you can add `console.log("Hello!");` to it.
- `deno.json`, which lets VS Code know this is a Deno project and enables the Deno extension. You can tweak settings in this file, but we'll keep it empty for now.

Open the terminal and run the following command: `deno run --watch --check main.ts`

This command clears the terminal and reruns `main.ts` every time you save it (`CMD` + `S` on Mac or `CTRL` + `S` on PC).

You can use this setup to test the code provided in this lesson.

![A screenshot showing VS Code running and watching a TypeScript file.](/assets/first-steps/loops/setup.png)

## With arrays

Let' say that we have ten numbers (1 to 10). We want to multiply them by 2 and log them.

We could write this code.

```ts showLineNumbers filename="main.ts"
console.log(1, "=>", 1 * 2);
console.log(2, "=>", 2 * 2);
console.log(3, "=>", 3 * 2);
console.log(4, "=>", 4 * 2);
console.log(5, "=>", 5 * 2);
console.log(6, "=>", 6 * 2);
console.log(7, "=>", 7 * 2);
console.log(8, "=>", 8 * 2);
console.log(9, "=>", 9 * 2);
console.log(10, "=>", 10 * 2);
```

But it's pretty repetitive. And what happens if we want to do the same things but with 100 numbers? Or if we want to multiply by 3 instead of 2? Typing or modifying it all would take a long time!

Instead, you can use... arrays! Arrays are *iterable* which means you can use them easily with loops.

To create a loop, you start with `for` followed by the loop parameters between `()`. Then you need to tell the computer what must be done at each iteration between `{}`.

Let's rewrite our code, but with an array and a `for` loop this time.

Here's what's happening in the code below, step by step:
- On line 2, we create an array `numbers`.
- On line 4, we create a new variable `n` that will store the values from `numbers`, one by one, one after another.
- On line 5 and 6, we tell the computer that it should multiply the `n` value by two and store it in a new variable, before logging it. It will do that for each value in `numbers`, one by one, one after another.

```ts showLineNumbers filename="main.ts"
// Add or remove items in the array and save.
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

for (const n of numbers) {
  const multiple = n * 2;
  console.log(n, "=>", multiple);
}
```

![A screenshot showing VS Code running a for-of loop.](/assets/first-steps/loops/for-of-loop.png)

If the computer could talk, here's what he would say when running this script:
- Line 1: This is just a comment for humans. I ignore it.
- Line 2: Hello `numbers`! Nice to meet you.
- Line 3: Nothing. Humans love empty spaces.
- Line 4: Hey, this is a `for` loop. Hello `n`! I'll use you to store each value of `numbers`, one by one.
- Line 5-6: Let's iterate!
  - I put the first value of `numbers` in `n`. I multiply `n` by 2 and I log it.
  - I put the second value of `numbers` in `n`. I multiply `n` by 2 and I log it.
  - [...]
  - I put the tenth value of `numbers` in `n`. I multiply `n` by 2 and I log it.
- Line 7: I iterated over all values of `numbers`. I am done! Sayonara!

The beauty of this syntax is that no matter the number of values in `numbers` (10, 1,000 or 1,000,000), the code will stay fairly short and straighforward. 

The actual code for the iterations is contained between the `{}`, so if you need to multiply by 3 instead of 2, you need to update your code just in one place and don't risk missing another spot.

## Regular `for` loop

While it's convenient to loop over an array, you don't need one to iterate.

If you want to say hello a million times, you can use a regular `for` loop, like shown in the code below.

The loop needs three expressions between `()` before running what's between the following `{}`:
- First, it needs a variable storing a number. By convention, we call it `i`, but you can name it anything you want. It's the starting number to iterate. Below, it's `let i = 0`.
- Second, you need to pass a condition to stop the loop. It's usually done by using the comparison operators `<` or `<=` with the variable. Below, it's `i < 1_000_000`.
- Lastly, you need to specify how to increment the variable. Below, we are using `i++` which means incremement by 1 on each step.

These expressions must be separated with `;` between the `()`.

The result is a loop starting with `i = 0` and stopping when `i` equals 999,999. Because `i` by one at each iteration, this loop iterates 1,000,000 times.

```ts showLineNumbers filename="main.ts"
for (let i = 0; i < 1_000_000; i++) {
  console.log(i, "Hello!");
}
```

![A screenshot showing VS Code running a for loop.](/assets/first-steps/loops/for-loop.png)

You just asked your computer to do something A MILLION TIMES! And just with 3 lines of code! Do you feel the POWER in your hands? ðŸ˜ˆ

You can play with the expressions. For example, make these changes and see what happens:
- Replace `let i = 0` with `let i = 1000`
- Replace `i < 1_000_000` with `i <= 1_100`
- Replace `i++` with `i += 10`

## `break`

Sometimes, you want to break your loop when something specific happens. To do that, you can use the `break` statement. It works in any loops.

For example, in the code below, we loop over `names`, but we break if one of the names start with J. Since `"Jerry"` meets this condition, it's the last name being logged.

```ts showLineNumbers filename="main.ts"
const names = [
  "Tom",
  "Ivan",
  "Jerry",
  "John",
  "Smith",
  "Derek",
  "Stuart",
  "Dustin",
  "Jenny",
  "Jasmine",
];

for (const n of names) {
  console.log(n);
  if (n.startsWith("J")) {
    break;
  }
}
```

![A screenshot showing VS Code running a for loop with a break.](/assets/first-steps/loops/break.png)

## Conclusion

Loops are an incredibly tool for data analysis. They will allow you to iterate quickly and efficiently through massive volume of data, just in a few lines of code.

Note that there are other kind of loops, like `while` loops. But we rarely use them in a data analysis context.

And now, I think it's time for our first project! We cover all the basics! Congrats !ðŸ•º