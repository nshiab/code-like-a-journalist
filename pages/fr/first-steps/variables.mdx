---
title: Variables en TypeScript
description: Apprenez √† d√©finir et √† utiliser des variables en TypeScript. D√©couvrez des astuces pour utiliser efficacement VS Code avec Deno.
---

import { Callout } from 'nextra/components'

# Variables

Commen√ßons votre premi√®re le√ßon de TypeScript avec les variables !

Cr√©ez un nouveau dossier quelque part sur votre ordinateur, ouvrez-le avec VS Code, et cr√©ez deux fichiers :
- `main.ts` o√π nous coderons. Vous pouvez y ajouter `console.log(2 + 3);`.
- `deno.json` pour indiquer √† VS Code qu'il s'agit d'un projet Deno et activer l'extension Deno. Vous pouvez ajuster vos param√®tres dans ce fichier, mais nous le laisserons vide pour l'instant.

Ouvrez le terminal et ex√©cutez `deno run main.ts`.

`console.log` indique √† l'ordinateur d'afficher quelque chose dans le terminal. Ici, le "quelque chose" est le calcul `2 + 3`. Votre ordinateur effectue le calcul et affiche le r√©sultat, qui est `5`.

![Une capture d'√©cran montrant VS Code avec les fichiers main.ts et deno.json.](/assets/first-steps/variables/run.png)

<Callout type="info" emoji="üí°">
    Vous avez peut-√™tre remarqu√© que votre code s'affiche avec plusieurs couleurs. Cela s'appelle *code highlighting*. Dans le code, chaque mot a un r√¥le diff√©rent et se voit attribuer une couleur. Par exemple, ici `console` est une classe, et `log` est une m√©thode. De plus, en tapant, vous pouvez voir des suggestions d'auto-compl√©tion et des infobulles. Cela s'appelle l'*IntelliSense*. C'est votre √©diteur qui essaie de deviner ce que vous pourriez vouloir √©crire et fournit une documentation. Pour l'instant, vous pouvez ignorer tout cela, mais nous l'utiliserons plus tard.
</Callout>

## `watch` et `check`

Actuellement, ce script ne s'ex√©cute qu'une seule fois. C'est un peu emb√™tant de devoir clicker sur le terminal et de le relancer manuellement √† chaque modification.

Utilisons l'option `--watch` pour que Deno relance automatiquement notre code chaque fois que nous enregistrons une modification. Pendant que nous y sommes, nous utiliserons √©galement l'option `--check` pour que Deno s'assure que notre code est correct avant de l'ex√©cuter.

Tapez et ex√©cutez `deno run --watch --check main.ts` dans le terminal. Vous verrez votre script s'ex√©cuter. Maintenant, changez `3` en `4` dans votre code et enregistrez votre fichier (`CMD` + `S` sur Mac ou `CTRL` + `S` sur PC).

Deno effacera le terminal et relancera `main.ts` √† chaque fois que vous l'enregistrez. Tr√®s pratique !

Si vous voulez arr√™ter le tout, cliquez dans le terminal et appuyez sur `CMD` + `C` sur Mac ou `CTRL` + `C` sur PC. Mais nous garderons la surveillance pour le reste de la le√ßon.

![Une capture d'√©cran montrant VS Code surveillant main.ts.](/assets/first-steps/variables/watch.png)

## Variables avec `const`

Ajoutons maintenant des variables √† notre code.

Les variables sont comme des conteneurs. Vous pouvez y mettre des choses, et lorsque vous les r√©f√©rencez, Deno regardera ce qu'il y a √† l'int√©rieur et l'utilisera. C'est tr√®s pratique, car vous pouvez r√©utiliser la m√™me variable √† diff√©rent endroit dans votre code.

Modifions notre code pour mettre le premier nombre dans la variable `a` et le deuxi√®me nombre dans `b`. Nous stockerons √©galement le r√©sultat du calcul dans la variable `c`. Copiez le code ci-dessous et collez-le dans votre fichier `main.ts`.

Votre ordinateur ex√©cutera ce code de haut en bas. La ligne 1 sera ex√©cut√©e, puis la ligne 2, et ainsi de suite.

```ts showLineNumbers filename="main.ts"
const a = 2;
const b = 4;
const c = a + b;
console.log(c);
```

<Callout type="info" emoji="üí°">
    Avez-vous remarqu√© tous les points-virgules ? Ils sont l√† pour s'assurer que votre ordinateur sache quand une instruction se termine. Ne vous inqui√©tez pas si vous les oubliez. Si vous avez suivi les √©tapes d'[Installation](/first-steps/setup), ils seront ajout√©s automatiquement lorsque vous enregistrez un fichier.
</Callout>

Si vous enregistrez, vous remarquerez que le r√©sultat dans le terminal est le m√™me. Mais il y a une grande diff√©rence dans votre code : vous utilisez des variables !

`c` est le r√©sultat de la somme de `a` et `b`, donc si vous changez `a` en `3`, cela changera la valeur dans `c`. Au lieu de `6`, votre ordinateur affichera `7`. Essayez-le !

Les variables sont omnipr√©sentes dans le code car elles permettent d'abstraire et de r√©utiliser votre logique.

## Variables avec `let`

Il existe deux principales mani√®res de cr√©er des variables :
- Avec `const`, si vous avez l'intention de garder le contenu constant, ce qui devrait √™tre votre premier choix.
- Avec `let`, si vous devez remplacer le contenu.

Essayons de remplacer le contenu dans notre code sans changer `const` en `let`.

Mettez √† jour votre code ‚ö†Ô∏è **MAIS NE L'ENREGISTREZ PAS ENCORE** ‚ö†Ô∏è ! Je veux d'abord vous montrer quelque chose.

```ts showLineNumbers filename="main.ts"
const a = 3;
const b = 4;
const c = a + b;
console.log(c);

c = 10;
console.log(c);
```

En tapant, votre √©diteur v√©rifie votre code. Et maintenant, nous voyons du rouge appara√Ætre un peu partout ! Que se passe-t-il ?

Pour le savoir, survolez le `c` soulign√© par une ligne ondul√©e.

![Une capture d'√©cran montrant une erreur dans VS Code.](/assets/first-steps/variables/const-error-before-save.png)

Oh ! Cela indique que nous essayons de remplacer le contenu d'une variable constante, ce qui est interdit. Merci, √©diteur de code. Je suis content que tu aies d√©tect√© cela **avant d'ex√©cuter le code**.

Ce que vous voyez ici est une fonctionnalit√© tr√®s pratique de VS Code et TypeScript. L'erreur a √©t√© d√©tect√©e **avant** que nous n'ex√©cutions le code. Lorsque vous travaillez sur des analyses complexes qui peuvent prendre des secondes, des minutes, ou parfois des heures de calculs, vous serez reconnaissant de d√©tecter les erreurs au pr√©alable au lieu de perdre votre temps √† attendre un script qui finira in√©vitablement par planter.

Maintenant, ex√©cutons ce code, juste par curiosit√©. Enregistrez le fichier.

Comme pr√©vu, le code plante, et l'erreur s'affiche √©galement dans le terminal.

![Une capture d'√©cran montrant une erreur dans le terminal de VS Code.](/assets/first-steps/variables/const-error.png)

<Callout type="info" emoji="üí°">
    Lorsqu'une erreur est g√©n√©r√©e, Deno vous indique o√π se trouve le code probl√©matique. Ici, il dit que le probl√®me est √† `.../main.ts:7:1`, ce qui signifie dans le fichier `main.ts`, √† la septi√®me ligne et au premier caract√®re. Si vous appuyez sur `CMD` sur Mac ou `CTRL` sur PC et cliquez sur ce chemin de fichier, cela vous y m√®nera directement. C'est tr√®s pratique lorsque vous commencez √† travailler avec beaucoup de fichiers.
</Callout>

Mais comment corriger cette erreur ?

Si nous voulons remplacer le contenu d'une variable, nous devons remplacer `const` par `let` lors de la cr√©ation de la variable `c` √† la ligne 3.

```ts showLineNumbers filename="main.ts"
const a = 3;
const b = 4;
let c = a + b;
console.log(c);

c = 10;
console.log(c);
```

Maintenant, le code s'ex√©cute sans probl√®me ! Si vous mettez √† jour votre code et l'enregistrez, vous verrez la premi√®re valeur de `c` s'afficher dans votre terminal, suivie de la deuxi√®me valeur.

Nous pouvons √©galement r√©utiliser `c` pour le remplacer... par lui-m√™me ! Les deux derni√®res lignes du code ci-dessous remplacent `c` par `c` au carr√© (`c` multipli√© par lui-m√™me).

```ts showLineNumbers filename="main.ts"
const a = 3;
const b = 4;
let c = a + b;
console.log(c);

c = 10;
console.log(c);

c = c * c;
console.log(c);
```

Voici le r√©sultat du code ci-dessus :

![Une capture d'√©cran montrant un r√©sultat au carr√© dans le terminal.](/assets/first-steps/variables/squared.png)

## Variables typ√©es

Il y a autre chose √† savoir sur les variables : **le type de donn√©es est important**. C'est pourquoi cela s'appelle... TypeScript !

Par exemple, si vous survolez `c` maintenant, vous verrez qu'il a un type `number`. Cela est d√ª au fait que la somme de `a` et `b` est un nombre. Le type ici est **inf√©r√©**.

![Une capture d'√©cran montrant une variable de type number dans VS Code.](/assets/first-steps/variables/type-number.png)

Maintenant, rempla√ßons `c` par du texte √† la ligne `6`. En TypeScript, le texte est appel√© un `string`, car c'est une cha√Æne (*string* en anglais) de caract√®res. Pour que votre ordinateur le reconnaisse comme du texte, il doit √™tre entour√© de guillemets.

Mettez √† jour votre code ‚ö†Ô∏è **MAIS NE L'ENREGISTREZ PAS ENCORE** ‚ö†Ô∏è ! D√©sol√©, j'ai encore cri√©. üò¨

```ts showLineNumbers filename="main.ts"
const a = 3;
const b = 4;
let c = a + b;
console.log(c);

c = "Hey! What's up?";
console.log(c);

c = c * c;
console.log(c);
```

Nous avons une erreur disant que nous essayons de mettre du texte dans `c`, alors que `c` est cens√© √™tre un nombre ! Et si l'on y r√©fl√©chit, c'est effectivement une erreur.

Si nous rempla√ßons `c` par du texte √† la ligne 6, que se passe-t-il √† la ligne 9 ? Quelle serait la valeur au carr√© de `"Hey! What's up?"` ? Cela n'a aucun sens de multiplier du texte par lui-m√™me !

Encore une fois, l'√©diteur a d√©tect√© l'erreur **avant d'ex√©cuter le code**. En TypeScript, **les variables sont typ√©es**, ce qui nous aide √† √©crire du code fiable et robuste.

![Une capture d'√©cran montrant une erreur de type dans VS Code lors d'un survol.](/assets/first-steps/variables/type-error-hover.png)

Et si nous enregistrons le fichier, le script plante, comme pr√©vu.

![Une capture d'√©cran montrant une erreur de type dans VS Code.](/assets/first-steps/variables/type-error.png)

## Conclusion

√Ä ce stade, vous pourriez penser : *Pourquoi est-ce si compliqu√© ? Laisse-moi coder ce que je veux, stupide ordinateur !*

Mais croyez-moi : cela vous √©vitera de pernicieux bogues. En tant que journaliste computationnel d'exp√©rience, j'ai appris cela √† mes d√©pens. üòÖ

Utiliser `const` vous emp√™chera d'√©craser accidentellement des variables ou des donn√©es importantes, et les types garantiront que vous ne m√©langez pas `text`, `number`, `Date`, ou d'autres types de donn√©es que nous explorerons dans les prochaines le√ßons.

Au bout du compte, vous voulez des r√©sultats valides. Vous voulez √©viter √† tout prix de publier des informations incorrectes. Utiliser `const` au lieu de `let` et respecter des `types` stricts vous aidera √† √©crire du code fiable.

Alors, quand vous pesterez contre les erreurs TypeScript, prenez une grande inspiration et r√©p√©tez √† voix haute : *C'est pour m'aider, ce n'est pas contre moi !*

Bien que cela puisse sembler compliqu√© pour l'instant, apr√®s un peu de pratique, tout deviendra naturel. Faites-moi confiance. üôÇ

Et comme je serais un tr√®s mauvais enseignant si je vous laissais terminer une le√ßon sur une erreur, mettons √† jour le code une derni√®re fois, avec des commentaires cette fois-ci.

```ts showLineNumbers filename="main.ts"
// Nous cr√©ons des variables constantes.
const a = 3;
const b = 4;

// Nous utilisons let pour pouvoir modifier c plus tard.
let c = a + b;
console.log(c);

// c est typ√© comme un nombre, donc nous ne pouvons
// le remplacer que par des nombres.
c = 10;
console.log(c);

// Nous pouvons remplacer c en utilisant c lui-m√™me.
c = c * c;
console.log(c);

```

<Callout type="info" emoji="üí°">
    Pour laisser des commentaires dans votre code, utilisez `//` au d√©but de la ligne, comme ci-dessus. Si vous souhaitez commenter plusieurs lignes, encadrez tout avec `/*` au d√©but et `*/` √† la fin. Les commentaires sont ignor√©s par votre ordinateur, ils sont donc un excellent moyen d'expliquer ce que fait votre code ou de d√©sactiver temporairement certaines parties de votre code.
</Callout>
