---
title: Comment utiliser JavaScript pour rendre une page web interactive
description: Dans cette le√ßon, nous apprenons ce qu‚Äôest JavaScript et comment l‚Äôutiliser.
---

import { Callout } from 'nextra/components'
import { NoticeIntro, NoticeEnd } from "../../../components/Notices.jsx"

# Comment utiliser JavaScript pour rendre une page web interactive

Avant de commencer, assurez-vous d‚Äôavoir compl√©t√© les sections pr√©c√©dentes, en particulier **1. Premiers pas üßë‚Äçüéì**, **2. Aller plus loin üöÄ**, ainsi que les le√ßons sur le [HTML](/web-basics/html) et le [CSS](/web-basics/css).

JavaScript a √©t√© cr√©√© en 1995 par [Brendan Eich](https://fr.wikipedia.org/wiki/Brendan_Eich). Depuis, le langage a √©volu√©, mais il continue d‚Äôalimenter le web. Ce n‚Äôest qu‚Äôen 2012 que TypeScript est apparu, ajoutant des fonctionnalit√©s comme les types √† JavaScript. TypeScript est appel√© un **superset** de JavaScript.

Cependant, les navigateurs ex√©cutent toujours du JavaScript. Ils ne comprennent pas TypeScript. C‚Äôest pourquoi les outils modernes de d√©veloppement web transpilent le TypeScript en JavaScript.

Dans cette le√ßon, nous n‚Äôutiliserons aucun outil. Nous ex√©cuterons le code JavaScript directement dans le navigateur. Ne vous inqui√©tez pas : maintenant que vous connaissez TypeScript, JavaScript sera un jeu d‚Äôenfant. C‚Äôest la m√™me chose, juste sans les types !

<NoticeIntro lang="fr"/>

## Configuration

Nous n‚Äôavons rien de nouveau √† installer, mais nous allons travailler avec le code de la le√ßon pr√©c√©dente.

Ouvrez un dossier vide dans VS Code. T√©l√©chargez [cette image](https://drive.google.com/file/d/1-lQv2ZWOD4xzYqfZTYsOt_QXfyP0WyAr/view?usp=drive_link) depuis mon Google Drive et placez-la dans votre projet. Ensuite, copiez et collez le code ci-dessous dans un nouveau fichier `index.html`.

```html showLineNumbers filename="index.html"
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Alma Mater</title>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
</head>
<body>
    <h1>My Alma Mater: UQAM</h1>
    <p>I earned my bachelor's degree in journalism at Universit√© du Qu√©bec √† Montr√©al (UQAM).</p>
    <img src="university.jpg" alt="UQAM campus with Montreal‚Äôs downtown skyline in the background."/>
    <p>The picture above comes from Wikimedia. You can find it <a href="https://commons.wikimedia.org/wiki/File:UQAM-Judith-Jasmin.jpg">here</a> along with its license.</p>
    <p>Montreal is a wonderful city. You should visit it!</p>
</body>
</html>
```
![Une capture d‚Äô√©cran montrant la console du navigateur et VS Code avec du code.](/assets/web-basics/javascript/setup.png)

## Cr√©er un fichier `.js`

Bien que vous puissiez √©crire du JavaScript directement dans le fichier HTML √† l‚Äôaide des balises `<script>` et `</script>`, il est g√©n√©ralement pr√©f√©rable d‚Äôisoler votre JavaScript dans un ou plusieurs fichiers `.js`. Cela rendra votre code plus facile √† maintenir sur le long terme.

Cr√©ons un nouveau fichier appel√© `main.js` avec un simple `console.log` √† l‚Äôint√©rieur.

```js showLineNumbers filename="main.js"
console.log("Hi!");
```

Pour ex√©cuter ce code sur votre page web, vous devez l‚Äôimporter dans votre fichier HTML. Ci-dessous, nous utilisons l‚Äôattribut `defer` afin que notre code JavaScript soit ex√©cut√© une fois que toute la page est pr√™te. C‚Äôest important si vous voulez modifier ou interagir avec le contenu de la page, comme nous allons le faire ici. Si votre script s‚Äôex√©cute trop t√¥t, avant que les √©l√©ments n‚Äôaient √©t√© cr√©√©s par le navigateur, vous obtiendrez une erreur.

Cependant, il arrive que vous n‚Äôayez pas besoin des √©l√©ments de la page. Si vous souhaitez que votre script s‚Äôex√©cute d√®s que possible, vous pouvez utiliser l‚Äôattribut `async` √† la place de `defer`.

```html showLineNumbers filename="index.html" {8}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>My Alma Mater</title>
        <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
        <script src="main.js" defer></script>
    </head>
    <body>
        <h1>My Alma Mater: UQAM</h1>
        <p>
            I earned my bachelor's degree in journalism at Universit√© du Qu√©bec
            √† Montr√©al (UQAM).
        </p>
        <img
            src="university.jpg"
            alt="UQAM campus with Montreal‚Äôs downtown skyline in the background."
        />
        <p>
            The picture above comes from Wikimedia. You can find it <a
                href="https://commons.wikimedia.org/wiki/File:UQAM-Judith-Jasmin.jpg"
            >here</a> along with its license.
        </p>
        <p>
            Montreal is a wonderful city. You should visit it!
        </p>
    </body>
</html>
```

Pour v√©rifier si notre code s‚Äôex√©cute sur la page, nous pouvons la rafra√Æchir et consulter la console.

Lorsque nous ex√©cutions du TypeScript avec Deno, `console.log` affichait les informations dans le terminal. Mais maintenant que nous travaillons sur une page web, ces informations s‚Äôaffichent dans la console du navigateur.

Vous devriez voir `Hi!` dans la console, ce qui indique que notre code s‚Äôex√©cute √† chaque chargement de la page !

![Une capture d‚Äô√©cran montrant la console du navigateur et VS Code avec du code.](/assets/web-basics/javascript/console.png)

## *Event listeners*

Lorsque vous voulez que l‚Äôutilisateur interagisse avec votre page, vous devez d‚Äôabord s√©lectionner l‚Äô√©l√©ment concern√©, puis ajouter un ou plusieurs *event listeners*. Pour s√©lectionner des √©l√©ments, vous pouvez utiliser des s√©lecteurs comme en CSS.

Pour un exemple concret, cr√©ons un bouton cliquable qui change la couleur du `body`. Dans `index.html`, nous ajoutons le bouton avec l‚Äô`id` `change-background`.

```html showLineNumbers filename="index.html" {28-30}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>My Alma Mater</title>
        <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
        <script src="main.js" defer></script>
    </head>
    <body>
        <h1>My Alma Mater: UQAM</h1>
        <p>
            I earned my bachelor's degree in journalism at Universit√© du Qu√©bec
            √† Montr√©al (UQAM).
        </p>
        <img
            src="university.jpg"
            alt="UQAM campus with Montreal‚Äôs downtown skyline in the background."
        />
        <p>
            The picture above comes from Wikimedia. You can find it <a
                href="https://commons.wikimedia.org/wiki/File:UQAM-Judith-Jasmin.jpg"
            >here</a> along with its license.
        </p>
        <p>
            Montreal is a wonderful city. You should visit it!
        </p>
        <button id="change-background">
            Click me to change the background color!
        </button>
    </body>
</html>
```

Mettons maintenant √† jour `main.js` :
- Tout d‚Äôabord, nous cr√©ons une liste de `randomColors` (lignes 1 √† 12).
- Ensuite, nous s√©lectionnons notre bouton avec `document.querySelector` et le s√©lecteur `#change-background` (ligne 14). Ici, nous voulons s√©lectionner un seul bouton, mais pour s√©lectionner plusieurs √©l√©ments, vous pouvez utiliser `querySelectorAll`.
- Nous ajoutons un *event listener* de type clic √† notre `button` avec `addEventListener("click", ...)` (ligne 16).
- Le deuxi√®me argument de `addEventListener` est une fonction d√©clench√©e lorsque l‚Äôutilisateur interagit avec l‚Äô√©l√©ment. Ici, nous choisissons une couleur au hasard et l‚Äôappliquons en arri√®re-plan du `body` de la page (lignes 17 √† 20).

Lorsque la page se charge, notre code cherche le bouton, puis attend que l‚Äôutilisateur interagisse avec lui.

```js showLineNumbers filename="main.js"
const randomColors = [
    "red",
    "blue",
    "green",
    "yellow",
    "pink",
    "purple",
    "orange",
    "brown",
    "gray",
    "white",
];

const button = document.querySelector("#change-background");

button.addEventListener("click", () => {
    const randomIndex = Math.floor(Math.random() * randomColors.length);
    const randomColor = randomColors[randomIndex];

    document.body.style.backgroundColor = randomColor;
});
```
![Une capture d‚Äô√©cran montrant du code avec des √©couteurs d‚Äô√©v√©nements dans VS Code.](/assets/web-basics/javascript/click.png)

<Callout type="info" emoji="üí°">
En lisant d‚Äôautres tutoriels en ligne, vous entendrez peut-√™tre parler du DOM (Document Object Model). C‚Äôest la repr√©sentation JavaScript du HTML. Lorsque vous s√©lectionnez un √©l√©ment HTML en JavaScript, vous le s√©lectionnez √† partir du DOM.
</Callout>

Il existe [de nombreux types d‚Äô√©v√©nements](https://www.w3schools.com/jsref/dom_obj_event.asp), et vous pouvez aussi les supprimer avec la m√©thode `removeEventListener`. Cependant, assurez-vous d‚Äôutiliser une fonction nomm√©e plut√¥t qu‚Äôune fonction fl√©ch√©e comme ci-dessus ; sinon, cela ne fonctionnera pas.

## Conclusion

F√©licitations ! Vous venez de rendre votre page interactive ! Bien s√ªr, l‚Äôinteraction ici est assez simple, mais les m√™mes principes peuvent √™tre appliqu√©s √† des visualisations de donn√©es interactives plus complexes : lorsque l‚Äôutilisateur interagit avec la page, vous mettez √† jour ce qui est affich√©.

Vous pouvez aussi utiliser `fetch` pour r√©cup√©rer diff√©rents fichiers de donn√©es et cr√©er divers graphiques selon les choix de l‚Äôutilisateur. Ou encore, vous pouvez r√©cup√©rer des donn√©es fra√Æches toutes les 15 secondes avec [`setInterval`](https://www.w3schools.com/jsref/met_win_setinterval.asp) et redessiner les graphiques, comme nous le faisons pour les tableaux de bord √©lectoraux. D‚Äôailleurs, `fetch` fonctionne de la m√™me mani√®re dans Deno que dans le navigateur. üòä

Il existe aussi des API plus sp√©cialis√©es, comme l‚Äô[API Intersection Observer](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API), qui permet de surveiller la progression du d√©filement de l‚Äôutilisateur et de d√©clencher des animations ‚Äî comme nous le faisons dans des projets de *scrolly-telling* tels que [celui-ci](https://ici.radio-canada.ca/info/2022/07/ilots-chaleur-villes-inegalites-injustice-changements-climatiques/en/). (Je sais que le mot "API" peut pr√™ter √† confusion ici, car jusqu‚Äô√† pr√©sent nous avons surtout utilis√© des API pour r√©cup√©rer des donn√©es, mais une API peut √™tre n‚Äôimporte quoi ‚Äî pas seulement pour les donn√©es. Celle-ci ressemble davantage √† une fonction.)

J‚Äôai volontairement gard√© cette le√ßon tr√®s simple, puisque c‚Äôest votre premi√®re fois √† coder du JavaScript pour le web, et nous sommes assez limit√©s puisque nous n‚Äôavons pas lanc√© de serveur local. Mais je pense que vous √™tes maintenant pr√™t pour la suite !

<NoticeEnd lang="fr" />
