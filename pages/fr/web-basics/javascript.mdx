---
title: Comment utiliser JavaScript pour rendre une page web interactive
description: Dans cette leÃ§on, nous apprenons ce quâ€™est JavaScript et comment lâ€™utiliser.
---

import { Callout } from 'nextra/components'
import { NoticeIntro, NoticeEnd } from "../../../components/Notices.jsx"

# Comment utiliser JavaScript pour rendre une page web interactive

Avant de commencer, assurez-vous dâ€™avoir complÃ©tÃ© les sections prÃ©cÃ©dentes, en particulier **1. Premiers pas ğŸ§‘â€ğŸ“**, **2. Aller plus loin ğŸš€**, ainsi que les leÃ§ons sur le [HTML](/web-basics/html) et le [CSS](/web-basics/css).

JavaScript a Ã©tÃ© crÃ©Ã© en 1995 par [Brendan Eich](https://fr.wikipedia.org/wiki/Brendan_Eich). Depuis, le langage a Ã©voluÃ©, mais il continue dâ€™alimenter le web. Ce nâ€™est quâ€™en 2012 que TypeScript est apparu, ajoutant des fonctionnalitÃ©s comme les types Ã  JavaScript. TypeScript est appelÃ© un **superset** de JavaScript.

Cependant, les navigateurs exÃ©cutent toujours du JavaScript. Ils ne comprennent pas TypeScript. Câ€™est pourquoi les outils modernes de dÃ©veloppement web transpilent le TypeScript en JavaScript.

Dans cette leÃ§on, nous nâ€™utiliserons aucun outil. Nous exÃ©cuterons le code JavaScript directement dans le navigateur. Ne vous inquiÃ©tez pas : maintenant que vous connaissez TypeScript, JavaScript sera un jeu dâ€™enfant. Câ€™est la mÃªme chose, juste sans les types !

<NoticeIntro lang="fr"/>

## Configuration

Nous nâ€™avons rien de nouveau Ã  installer, mais nous allons travailler avec le code de la leÃ§on prÃ©cÃ©dente.

Ouvrez un dossier vide dans VS Code. TÃ©lÃ©chargez [cette image](https://drive.google.com/file/d/1-lQv2ZWOD4xzYqfZTYsOt_QXfyP0WyAr/view?usp=drive_link) depuis mon Google Drive et placez-la dans votre projet. Ensuite, copiez et collez le code ci-dessous dans un nouveau fichier `index.html`.

```html showLineNumbers filename="index.html"
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Alma Mater</title>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
</head>
<body>
    <h1>My Alma Mater: UQAM</h1>
    <p>I earned my bachelor's degree in journalism at UniversitÃ© du QuÃ©bec Ã  MontrÃ©al (UQAM).</p>
    <img src="university.jpg" alt="UQAM campus with Montrealâ€™s downtown skyline in the background."/>
    <p>The picture above comes from Wikimedia. You can find it <a href="https://commons.wikimedia.org/wiki/File:UQAM-Judith-Jasmin.jpg">here</a> along with its license.</p>
    <p>Montreal is a wonderful city. You should visit it!</p>
</body>
</html>
```
![Une capture dâ€™Ã©cran montrant la console du navigateur et VS Code avec du code.](/assets/web-basics/javascript/setup.png)

## CrÃ©er un fichier `.js`

Bien que vous puissiez Ã©crire du JavaScript directement dans le fichier HTML Ã  lâ€™aide des balises `<script>` et `</script>`, il est gÃ©nÃ©ralement prÃ©fÃ©rable dâ€™isoler votre JavaScript dans un ou plusieurs fichiers `.js`. Cela rendra votre code plus facile Ã  maintenir sur le long terme.

CrÃ©ons un nouveau fichier appelÃ© `main.js` avec un simple `console.log` Ã  lâ€™intÃ©rieur.

```js showLineNumbers filename="main.js"
console.log("Hi!");
```

Pour exÃ©cuter ce code sur votre page web, vous devez lâ€™importer dans votre fichier HTML. Ci-dessous, nous utilisons lâ€™attribut `defer` afin que notre code JavaScript soit exÃ©cutÃ© une fois que toute la page est prÃªte. Câ€™est important si vous voulez modifier ou interagir avec le contenu de la page, comme nous allons le faire ici. Si votre script sâ€™exÃ©cute trop tÃ´t, avant que les Ã©lÃ©ments nâ€™aient Ã©tÃ© crÃ©Ã©s par le navigateur, vous obtiendrez une erreur.

Cependant, il arrive que vous nâ€™ayez pas besoin des Ã©lÃ©ments de la page. Si vous souhaitez que votre script sâ€™exÃ©cute dÃ¨s que possible, vous pouvez utiliser lâ€™attribut `async` Ã  la place de `defer`.

```html showLineNumbers filename="index.html" {8}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>My Alma Mater</title>
        <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
        <script src="main.js" defer></script>
    </head>
    <body>
        <h1>My Alma Mater: UQAM</h1>
        <p>
            I earned my bachelor's degree in journalism at UniversitÃ© du QuÃ©bec
            Ã  MontrÃ©al (UQAM).
        </p>
        <img
            src="university.jpg"
            alt="UQAM campus with Montrealâ€™s downtown skyline in the background."
        />
        <p>
            The picture above comes from Wikimedia. You can find it <a
                href="https://commons.wikimedia.org/wiki/File:UQAM-Judith-Jasmin.jpg"
            >here</a> along with its license.
        </p>
        <p>
            Montreal is a wonderful city. You should visit it!
        </p>
    </body>
</html>
```

Pour vÃ©rifier si notre code sâ€™exÃ©cute sur la page, nous pouvons la rafraÃ®chir et consulter la console.

Lorsque nous exÃ©cutions du TypeScript avec Deno, `console.log` affichait les informations dans le terminal. Mais maintenant que nous travaillons sur une page web, ces informations sâ€™affichent dans la console du navigateur.

Vous devriez voir `Hi!` dans la console, ce qui indique que notre code sâ€™exÃ©cute Ã  chaque chargement de la page !

![Une capture dâ€™Ã©cran montrant la console du navigateur et VS Code avec du code.](/assets/web-basics/javascript/console.png)

## *Event listeners*

Lorsque vous voulez que lâ€™utilisateur interagisse avec votre page, vous devez dâ€™abord sÃ©lectionner lâ€™Ã©lÃ©ment concernÃ©, puis ajouter un ou plusieurs *event listeners*. Pour sÃ©lectionner des Ã©lÃ©ments, vous pouvez utiliser des sÃ©lecteurs comme en CSS.

Pour un exemple concret, crÃ©ons un bouton cliquable qui change la couleur du `body`. Dans `index.html`, nous ajoutons le bouton avec lâ€™`id` `change-background`.

```html showLineNumbers filename="index.html" {28-30}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>My Alma Mater</title>
        <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
        <script src="main.js" defer></script>
    </head>
    <body>
        <h1>My Alma Mater: UQAM</h1>
        <p>
            I earned my bachelor's degree in journalism at UniversitÃ© du QuÃ©bec
            Ã  MontrÃ©al (UQAM).
        </p>
        <img
            src="university.jpg"
            alt="UQAM campus with Montrealâ€™s downtown skyline in the background."
        />
        <p>
            The picture above comes from Wikimedia. You can find it <a
                href="https://commons.wikimedia.org/wiki/File:UQAM-Judith-Jasmin.jpg"
            >here</a> along with its license.
        </p>
        <p>
            Montreal is a wonderful city. You should visit it!
        </p>
        <button id="change-background">
            Click me to change the background color!
        </button>
    </body>
</html>
```

Mettons maintenant Ã  jour `main.js` :
- Tout dâ€™abord, nous crÃ©ons une liste de `randomColors` (lignes 1 Ã  12).
- Ensuite, nous sÃ©lectionnons notre bouton avec `document.querySelector` et le sÃ©lecteur `#change-background` (ligne 14). Ici, nous voulons sÃ©lectionner un seul bouton, mais pour sÃ©lectionner plusieurs Ã©lÃ©ments, vous pouvez utiliser `querySelectorAll`.
- Nous ajoutons un *event listener* de type clic Ã  notre `button` avec `addEventListener("click", ...)` (ligne 16).
- Le deuxiÃ¨me argument de `addEventListener` est une fonction dÃ©clenchÃ©e lorsque lâ€™utilisateur interagit avec lâ€™Ã©lÃ©ment. Ici, nous choisissons une couleur au hasard et lâ€™appliquons en arriÃ¨re-plan du `body` de la page (lignes 17 Ã  20).

Lorsque la page se charge, notre code cherche le bouton, puis attend que lâ€™utilisateur interagisse avec lui.

```js showLineNumbers filename="main.js"
const randomColors = [
    "red",
    "blue",
    "green",
    "yellow",
    "pink",
    "purple",
    "orange",
    "brown",
    "gray",
    "white",
];

const button = document.querySelector("#change-background");

button.addEventListener("click", () => {
    const randomIndex = Math.floor(Math.random() * randomColors.length);
    const randomColor = randomColors[randomIndex];

    document.body.style.backgroundColor = randomColor;
});
```
![Une capture dâ€™Ã©cran montrant du code avec des Ã©couteurs dâ€™Ã©vÃ©nements dans VS Code.](/assets/web-basics/javascript/click.png)

<Callout type="info" emoji="ğŸ’¡">
En lisant dâ€™autres tutoriels en ligne, vous entendrez peut-Ãªtre parler du DOM (Document Object Model). Câ€™est la reprÃ©sentation JavaScript du HTML. Lorsque vous sÃ©lectionnez un Ã©lÃ©ment HTML en JavaScript, vous le sÃ©lectionnez Ã  partir du DOM.
</Callout>

Il existe [de nombreux types dâ€™Ã©vÃ©nements](https://www.w3schools.com/jsref/dom_obj_event.asp), et vous pouvez aussi les supprimer avec la mÃ©thode `removeEventListener`. Cependant, assurez-vous dâ€™utiliser une fonction nommÃ©e plutÃ´t quâ€™une fonction flÃ©chÃ©e comme ci-dessus ; sinon, cela ne fonctionnera pas.

## Conclusion

FÃ©licitations ! Vous venez de rendre votre page interactive ! Bien sÃ»r, lâ€™interaction ici est assez simple, mais les mÃªmes principes peuvent Ãªtre appliquÃ©s Ã  des visualisations de donnÃ©es interactives plus complexes : lorsque lâ€™utilisateur interagit avec la page, vous mettez Ã  jour ce qui est affichÃ©.

Vous pouvez aussi utiliser `fetch` pour rÃ©cupÃ©rer diffÃ©rents fichiers de donnÃ©es et crÃ©er divers graphiques selon les choix de lâ€™utilisateur. Ou encore, vous pouvez rÃ©cupÃ©rer des donnÃ©es fraÃ®ches toutes les 15 secondes avec [`setInterval`](https://www.w3schools.com/jsref/met_win_setinterval.asp) et redessiner les graphiques, comme nous le faisons pour les tableaux de bord Ã©lectoraux. Dâ€™ailleurs, `fetch` fonctionne de la mÃªme maniÃ¨re dans Deno que dans le navigateur. ğŸ˜Š

Il existe aussi des API plus spÃ©cialisÃ©es, comme lâ€™[API Intersection Observer](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API), qui permet de surveiller la progression du dÃ©filement de lâ€™utilisateur et de dÃ©clencher des animations â€” comme nous le faisons dans des projets de *scrolly-telling* tels que [celui-ci](https://ici.radio-canada.ca/info/2022/07/ilots-chaleur-villes-inegalites-injustice-changements-climatiques/en/). (Je sais que le mot "API" peut prÃªter Ã  confusion ici, car jusquâ€™Ã  prÃ©sent nous avons surtout utilisÃ© des API pour rÃ©cupÃ©rer des donnÃ©es, mais une API peut Ãªtre nâ€™importe quoi â€” pas seulement pour les donnÃ©es. Celle-ci ressemble davantage Ã  une fonction.)

Jâ€™ai volontairement gardÃ© cette leÃ§on trÃ¨s simple, puisque câ€™est votre premiÃ¨re fois Ã  coder du JavaScript pour le web, et nous sommes assez limitÃ©s puisque nous nâ€™avons pas lancÃ© de serveur local. Mais je pense que vous Ãªtes maintenant prÃªt pour la suite !

<NoticeEnd lang="fr" />
