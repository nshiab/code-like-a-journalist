---
title: What is Git and how to use it?
description: In this lesson, we learn the basics of using Git.
---

import { Callout } from "nextra/components";
import { NoticeIntro, NoticeEnd } from "../../../components/Notices.jsx";

# What is Git and how to use it?

Programming is hard. You have a lot of code in a lot of files making it difficult to keep track of everything your are doing. It's even harder if you collaborate with other people!

This is why [Git](https://git-scm.com/) has been released in 2005 and is now used by millions of coders around the world. It's an open source **version control system**. It's the kind of tool that once you start using it, you wonder how you could work without it!

In this project, we will create a simple program to retrieve the current temperature in Montreal and we will use Git to version it every step of the way.

Note that I'll show you how to use Git in the terminal. I think it's important to understand how this tool works. But later on, you'll be able to pick and install one of the many VS Code extensions available for Git.


## Setup

First, you need to install Git. The steps might be different depending on your operating system. Follow [the relevant steps on the Git official website](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git).

![Git installation steps.](/assets/git-and-github/git-basics/install.png)

## Initialization

Create a new folder and open it with VS Code.

If you click on the `Source control` in the left side bar, you'll see that you don't have a Git repository in this project.

![Message in VS Code saying that there is no Git repository.](/assets/git-and-github/git-basics/no-repo.png)

To initialize a new Git repository, run this command in the terminal: `git init`.

Now, your project is using Git! But there is nothing in it yet.

![Message in VS Code saying that there is a Git repository.](/assets/git-and-github/git-basics/repo-init.png)

Everything you'll save with Git will be stored in a hidden folder `.git` in your project.

![A hidden git folder.](/assets/git-and-github/git-basics/git-folder.png)

Just to make sure the code works, you can run `deno -A main.ts`. You should see the XML data logged in the terminal.

![XML data logged in the terminal.](/assets/git-and-github/git-basics/xml-logged.png)

## New files

Let's create a new file `main.ts` and let's fetch the latest weather data in Montreal from the
[Meteorological Service of Canada API](https://eccc-msc.github.io/open-data/msc-data/obs_station/readme_obs_insitu_swobdatamart_en/).

This API returns data as XML. We log it to the terminal.

```ts showLineNumbers filename="main.ts"
const response = await fetch(
  "https://dd.weather.gc.ca/observations/swob-ml/latest/CWTQ-AUTO-minute-swob.xml",
);
const xml = await response.text();

console.log(xml)
```

Now, you can see you new file under the `Changes`. Its color also switched to green and there is a `U` next to it, meaning `Untracked`. You can also see `1` in the left side bar, next to the source control button, meaning there is a change for one file.

Git is telling you that it's a new file. It has not seen it before and it's not currently tracked.

![Message in VS Code saying that there is an untracked file.](/assets/git-and-github/git-basics/new-file.png)

## Tracking and committing

Git is not auto-saving what you are doing. You need to tell it when to save your project. And to save your changes, you need to **commit** them.Each commit have an id (generated by Git) and a message you have to type.

Committing is a two-step process:
- First you track the files (new files, deleted files)
- Then you commit with a message.

Let's do it. To track run `git add -A`. This tells git to track all files in the project.

Then commit with `git commit -m "Fetching xml data"`. The `-m` tells git that we are adding a message and you need to put the message right after between quotes.

And that's it! Now, you can see your commit under the `Graph` section.

![First commit.](/assets/git-and-github/git-basics/first-commit.png)

## Updating files

We have XML data. It's not very convenient. It would be better to have JSON data.

Let's install the [`fast-xml-parser`](https://www.npmjs.com/package/fast-xml-parser) from NPM to parse convert our data.

In your terminal, run `deno add npm:fast-xml-parser` and then update your `main.ts`.

You can also go back to the Explorer tab by clicking on it on the left side bar.

```ts showLineNumbers filename="main.ts" {1, 6-9}
import { XMLParser } from "fast-xml-parser";

const response = await fetch(
  "https://dd.weather.gc.ca/observations/swob-ml/latest/CWTQ-AUTO-minute-swob.xml",
);
const xml = await response.text();
const json = new XMLParser({ ignoreAttributes: false }).parse(xml);

console.log(json);
```

You can run `deno -A main.ts` just to make sure the code works.

Now, you see more changes. Because we installed a library, Deno created a `deno.json` and a `deno.lock`. They are green and untracked.

But `main.ts` is yellow with a `M` next to it. This is Git telling you the file has been modified.

![Files have been modified.](/assets/git-and-github/git-basics/changes.png)

You can check the changes line by line in the file. Next to the line numbers, you have colored gutters:
- green means its detected as a new line
- blue means the line has been modified
- red means lines have been removed

If you click on the gutters, you have the details. In green, you have the additions and in the red the deletions.

If you want to go back to the previous version, you can click on the roll back arrow.

![Inspecting the changes in the file.](/assets/git-and-github/git-basics/inspecting-changes.png)

But can also see all of the differences in the `Source control` tab. Click on `main.ts` to see the `Working Tree` view.

For example, here, we can clearly see that we are using a new library (green lines on the right) and that we removed the `console.log(xml)` (in red on the left).

If you want to roll back to a previous version of the file, you can click on the roll back arrow under `Changes`.

![Inspecting the changes in the file with the working tree.](/assets/git-and-github/git-basics/working-tree.png)

Let's commit these changes:
- Run `git add -A`
- Then `git commit -m "XML to JSON"`

Now, you can see your second commit in the `Graph`. And if you click on it, you can see all the changes that have been made compared to the previous commit!

Make sure to scroll to see the changes to `deno.json`, `deno.lock` and `main.ts`.

## Reverting a commit

One very powerful feature of Git is to be able to easily roll back to a previous commit.

For example, let's create an error in our code. Let's parse the fetch response as a JSON instead of text in `main.ts`.

```ts showLineNumbers filename="main.ts" /.json()/
import { XMLParser } from "fast-xml-parser";

const response = await fetch(
  "https://dd.weather.gc.ca/observations/swob-ml/latest/CWTQ-AUTO-minute-swob.xml",
);
const xml = await response.json();
const json = new XMLParser({ ignoreAttributes: false }).parse(xml);

console.log(json);
```

Let's commit this before testing it ðŸ˜±: 
- `git add -A`
- `git commit -m "Parsing response as JSON"`

And then let's test our new code with `deno -A main.ts`.

![A third commit.](/assets/git-and-github/git-basics/error.png)

Oh no! It crashes! And we have committed! How to roll back?

Of course, you could always check the changes and update the code manually. But if you are working on a big project, this might not always be realitic. Instead, you can use the `git revert` command with a commit ID.

To retrieve a commit ID, right-click on it and click on `Copy Commit ID`. Here, the commit we want to revert is the latest one.

![Copying a commit ID](/assets/git-and-github/git-basics/copy-id.png)

Then start typing this `git revert ` in the terminal, paste the commit ID, and then run!

What you are seeing in your terminal is a text editor. The lines above the `#` section are the suggested commit.

![Reverting a commit.](/assets/git-and-github/git-basics/revert.png)

To accept the suggested commit, just type `:q` and press Enter to accept it and quite the text editor in your terminal. You can also click on the big blue `Commit` button.

And now you'll see a fourth commit, indicating that you reverted! For a *real* rollback, you can also use [`git reset`](https://git-scm.com/docs/git-reset). But reverting is safer and keeps a history of everything, including the revert!

Now, if you run `deno -A main.ts`, everything works like before.

![A reverted commit.](/assets/git-and-github/git-basics/reverted.png)

## Branches

Another important concept of Git is **branches**.

By default, a repo has a `main` branch. You can see your branch in the bottom left corner of VS Code and next to your commits. So far, we've been working on `main`.

![The main branch on VS Code.](/assets/git-and-github/git-basics/main-branch.png)

Usually, we (try ðŸ˜…) to keep `main` clean and we work on branches instead.

For example, let's say we now want to extract the date and temperature from the data we fetched for Montreal. We could create a new branch to add this code to the project.

### Adding a branch

To create a new branch named `temperature`, run this command `git checkout -b temperature`.

The `checkout` command tells Git you want to switch to another branch. The `-b` followed by `temperature` tells it to create the new branch `temperature` before switching to it. Because you are on `main`, the branch will be created from `main`. The code will be exactly the same on the two branches at first.

If you want to see a list of all the branches, you can run `git branch`. The one with a `*` in front of it are the one you are on.

![The main branch on VS Code.](/assets/git-and-github/git-basics/new-branch.png)

### Working on a branch

We can now update our code in `main.ts`. The data is a deeply nested JSON but retrieving the `resultTime` and the `temperature` is straighforward.

If you run `deno -A main.ts`, you should see the temperature logged in the terminal.

```ts showLineNumbers filename="main.ts" {9-23}
import { XMLParser } from "fast-xml-parser";

const response = await fetch(
  "https://dd.weather.gc.ca/observations/swob-ml/latest/CWTQ-AUTO-minute-swob.xml",
);
const xml = await response.text();
const json = new XMLParser({ ignoreAttributes: false }).parse(xml);

const observation =
  json["om:ObservationCollection"]["om:member"]["om:Observation"];

const resultTime =
  observation["om:resultTime"]["gml:TimeInstant"]["gml:timePosition"];
console.log(resultTime);

const elements = observation["om:result"]["elements"]["element"];
type element = {
  "@_name": string;
  "@_value": string;
};
const temp = elements
  .find((d: element) => d["@_name"] === "air_temp")["@_value"];
console.log(temp);
```

Let's commit this update:
- `git add -A`
- `git commit -m "Extracting temp and time"`

![Working on the temperature branch.](/assets/git-and-github/git-basics/commit-new-branch.png)

This has been committed to the `temperature` branch. The `main` has not changed. To check the `main` branch, you can use `git checkout main`.

As you can see, our new code is not there! In case we created an error or introduced a new bug on the `temperature` branch, we know that `main` won't have it.

This is why branches are so great: you can work confidently on them. You test and break things without worrying about your previous achievements. They are kept safe! Branches are also very useful when multiple people are collaborating. Each one can work on its thing on its branch.

![Checking out the main branch.](/assets/git-and-github/git-basics/checkout-main.png)

### Merging branches

Now, let's say that we are happy with our new code on the `temperature` branch. We would like to bring it to the `main` branch.

To do that, we have to **merge** the branches.

Make sure to be on the `main` branche (`git checkout main`) and then run `git merge temperature`. This command will merge the `temperature` branch into the `main` branch.

Now, the new code is on `main`! And you can see the commit that we created in `temperature`. The history has been merged.

![Merging the main branch.](/assets/git-and-github/git-basics/merge-main.png)

### Deleting branches

We don't need the `temperature` branch anymore. Let's remove it by running `git branch -d temperature`.

Now, if you run `git branch`, you won't see it anymore.

![Deleting the temperature branch.](/assets/git-and-github/git-basics/delete-branch.png)

## Removing git

If, for some reason, you need to remove Git from one of your project, you must delete the hidden `.git` folder.

You can do that with your file explorer.

![A hidden git folder.](/assets/git-and-github/git-basics/git-folder.png)

But you can also do that in your terminal with this command: `rm -fr .git`

But you need to be **extremely careful** when running it. This command deletes everything recursively. It could wipe out your entire computer. You must ensure you are in your project and be careful of typos.

## Conclusion

Congratulations! You've learned the most important Git commands:
- `git init` to start a new Git repository
- `git add -A` to track the files
- `git commit -m "A message"` to save the project
- `git revert commitID` to revert a commit
- `git branch -b my-new-branch` to create a new branch
- `git checkout my-new-branch` to switch to a different branch
- `git merge my-new-branch` to merge branches
- `git branch -d my-new-branch` to delete a branch

These eight commands will cover 95% of your daily needs.

Of course, our use case here was quite simple. Things can get more complicated when multiple people work at the same time on different branches and conflicts between branches can happen. But this should be enough to get you started on your Git journey!

By the way, Git is great with any text based files, but you can also track images, videos and more!

And a last advice: always assume that your commit messages are public. You never know when you'll be asking a colleague for help! And if you are working on an open source project, well, everyone will see your commits! ðŸ˜…

Now, using Git is great, but so far we kept everything on our computer. In the next lesson, we'll talk about GitHub which can store your code in the cloud, for free!